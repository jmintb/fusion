---
source: crates/compiler/src/analysis/free_dead_resources.rs
expression: "format!(\"{}\", ir_program)"
---
IR:
fn 17:
block_6
0: 7_val = fnarg
1: 8_len = fnarg
2: 9_anonymous := Int(1)
3: borrow(9_anonymous)
4: 10_anonymous := "w"
5: borrow(10_anonymous)
6: receiver_Ssaid(11) = @0( 9_anonymous, 10_anonymous,)
7: borrow_end(9_anonymous)
8: borrow_end(10_anonymous)
9: 12_stdoutptr = 11_fdopen_result
10: drop(9_anonymous)
11: move(11_fdopen_result)
12: drop(10_anonymous)
13: borrow(7_val)
14: borrow(8_len)
15: 13_anonymous := Int(1)
16: borrow(13_anonymous)
17: borrow(12_stdoutptr)
18: receiver_Ssaid(14) = @2( 7_val, 8_len, 13_anonymous, 12_stdoutptr,)
19: borrow_end(7_val)
20: drop(7_val)
21: borrow_end(8_len)
22: drop(8_len)
23: drop(14_fwrite_result)
24: borrow_end(13_anonymous)
25: borrow_end(12_stdoutptr)
26: drop(13_anonymous)
27: drop(12_stdoutptr)
28: return

fn 32:
block_15
0: 16_anonymous := "test"
1: borrow(16_anonymous)
2: receiver_Ssaid(17) = yielding@36( 16_anonymous,)
3: 18_projected_str = 17_project_result
4: move(17_project_result)
5: 19_anonymous := "before main \n"
6: borrow(19_anonymous)
7: 20_anonymous := Int(14)
8: borrow(20_anonymous)
9: @17( 19_anonymous, 20_anonymous,)
10: borrow_end(19_anonymous)
11: borrow_end(20_anonymous)
12: drop(19_anonymous)
13: borrow(18_projected_str)
14: drop(20_anonymous)
15: 21_anonymous := Int(4)
16: borrow(21_anonymous)
17: @17( 18_projected_str, 21_anonymous,)
18: borrow_end(18_projected_str)
19: drop(18_projected_str)
20: borrow_end(21_anonymous)
21: drop(21_anonymous)
22: 22_anonymous := "\n"
23: borrow(22_anonymous)
24: 23_anonymous := Int(2)
25: borrow(23_anonymous)
26: @17( 22_anonymous, 23_anonymous,)
27: borrow_end(22_anonymous)
28: drop(22_anonymous)
29: borrow_end(23_anonymous)
30: drop(23_anonymous)
31: return

fn 36:
block_24
0: 25_element = fnarg
1: yield 25
