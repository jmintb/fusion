---
source: tests/e2e.rs
expression: "String::from_utf8(cmd.ok().unwrap().stdout)?"
---
[
    Decl(
        Function(
            TSIdentifier(
                "fdopen",
            ),
            [
                (
                    TSIdentifier(
                        "fd: int",
                    ),
                    None,
                ),
                (
                    TSIdentifier(
                        "mode: String",
                    ),
                    None,
                ),
            ],
            None,
            None,
        ),
    ),
    Decl(
        Function(
            TSIdentifier(
                "fclose",
            ),
            [
                (
                    TSIdentifier(
                        "fd",
                    ),
                    None,
                ),
                (
                    TSIdentifier(
                        "mode",
                    ),
                    None,
                ),
            ],
            None,
            None,
        ),
    ),
    Decl(
        Function(
            TSIdentifier(
                "fwrite",
            ),
            [
                (
                    TSIdentifier(
                        "val",
                    ),
                    None,
                ),
                (
                    TSIdentifier(
                        "size",
                    ),
                    None,
                ),
                (
                    TSIdentifier(
                        "len",
                    ),
                    None,
                ),
                (
                    TSIdentifier(
                        "file",
                    ),
                    None,
                ),
            ],
            None,
            None,
        ),
    ),
    Decl(
        Function(
            TSIdentifier(
                "print",
            ),
            [
                (
                    TSIdentifier(
                        "val: String",
                    ),
                    None,
                ),
            ],
            Some(
                [
                    Assignment(
                        TSIdentifier(
                            "stdoutptr",
                        ),
                        Call(
                            TSIdentifier(
                                "fdopen",
                            ),
                            [
                                Value(
                                    Integer(
                                        1,
                                    ),
                                    Integer,
                                ),
                                Value(
                                    String(
                                        "w",
                                    ),
                                    String,
                                ),
                            ],
                        ),
                        None,
                    ),
                    Expression(
                        Call(
                            TSIdentifier(
                                "fwrite",
                            ),
                            [
                                Value(
                                    Variable(
                                        TSIdentifier(
                                            "val",
                                        ),
                                    ),
                                    Unknown,
                                ),
                                Call(
                                    TSIdentifier(
                                        "len",
                                    ),
                                    [
                                        Value(
                                            Variable(
                                                TSIdentifier(
                                                    "val",
                                                ),
                                            ),
                                            Unknown,
                                        ),
                                    ],
                                ),
                            ],
                        ),
                    ),
                ],
            ),
            None,
        ),
    ),
    Decl(
        Function(
            TSIdentifier(
                "main",
            ),
            [],
            Some(
                [],
            ),
            None,
        ),
    ),
]

